---
const title = "Sabor Express";

import CartFlyoutToggle from "../components/CartFlyoutToggle";
import CartFlyout from "../components/CartFlyout";
import { getCategories } from "../services/globalService";

const categories: any = await getCategories();
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="stylesheet" href="/styles/global.css" />
	</head>
	<body>
		<header class="col-span-5 col-start-1 row-start-1 bg-white shadow-md">
			<nav
				class="container mx-auto px-4 py-2 flex items-center justify-between">
				<h1 class="text-2xl font-bold">{title}</h1>
				<ul class="flex space-x-4 items-center">
					<li>
						<a href="/" class="text-gray-600 hover:text-gray-900"
							>Inicio</a
						>
					</li>
					<li>
						<a
							href="/menu"
							class="text-gray-600 hover:text-gray-900">Menú</a
						>
					</li>
					<li>
						<a
							href="/about"
							class="text-gray-600 hover:text-gray-900"
							>Nosotros</a
						>
					</li>
					<li>
						<a
							href="/contact"
							class="text-gray-600 hover:text-gray-900"
							>Contacto</a
						>
					</li>
					<li>
						<CartFlyoutToggle client:load />
					</li>
				</ul>
			</nav>
		</header>
		<div
			class="w-full min-h-screen grid grid-cols-5 grid-rows-[auto_1fr_auto] gap-4">
			<div class="row-span-4">
				<section>
					<h2 class="text-xl font-semibold mb-4">Categorías</h2>
					<ul class="space-y-2">
						{
							categories.map((category: any) => (
								<li>
									<a href={`/menu/category/${category.id}`}>
										{category.name}
									</a>
								</li>
							))
						}
					</ul>
				</section>
			</div>
			<div class="col-span-4 row-span-4">
				<CartFlyout client:load />
				<slot />
			</div>
			<footer class="col-span-5 row-start-5 bg-gray-800 text-white py-4">
				<div class="container mx-auto text-center">
					<p class="mb-2">
						&copy; 2024 Sabor Express. Todos los derechos
						reservados.
					</p>
					<p class="mb-2">Síguenos en:</p>
					<div class="flex justify-center space-x-4">
						<a
							href="https://facebook.com"
							target="_blank"
							class="hover:text-blue-500">
							<i class="fab fa-facebook-f"></i>
						</a>
						<a
							href="https://twitter.com"
							target="_blank"
							class="hover:text-blue-400">
							<i class="fab fa-twitter"></i>
						</a>
						<a
							href="https://instagram.com"
							target="_blank"
							class="hover:text-pink-500">
							<i class="fab fa-instagram"></i>
						</a>
					</div>
				</div>
			</footer>
		</div>
	</body>
</html>
